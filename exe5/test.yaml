name: exe3
author: Rafael Corsi
version: 1

steps:
  - delay: 200ms

##################
# aperta btn 1
##################

  - expect-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - set-control:
      part-id: btn1
      control: pressed
      value: 1
  - delay: 40ms

  - set-control:
      part-id: btn1
      control: pressed
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - wait-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

##################
# aperta btn 2
##################

  - set-control:
      part-id: btn2
      control: pressed
      value: 1
  - delay: 40ms

  - set-control:
      part-id: btn2
      control: pressed
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - wait-pin:
      part-id: led2
      pin: A
      value: 1

  - wait-pin:
      part-id: led1
      pin: A
      value: 0

  - wait-pin:
      part-id: led2
      pin: A
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - wait-pin:
      part-id: led2
      pin: A
      value: 1

##################
# aperta btn 2
##################

  - set-control:
      part-id: btn2
      control: pressed
      value: 1
  - delay: 40ms

  - set-control:
      part-id: btn2
      control: pressed
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - wait-pin:
      part-id: led1
      pin: A
      value: 1

  - wait-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

##################
# aperta btn 1
##################

  - set-control:
      part-id: btn1
      control: pressed
      value: 1
  - delay: 40ms

  - set-control:
      part-id: btn1
      control: pressed
      value: 0
  - delay: 90ms

  - expect-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

  - expect-pin:
      part-id: led1
      pin: A
      value: 0

  - expect-pin:
      part-id: led2
      pin: A
      value: 0

##################
# aperta btn 2
##################


  - set-control:
      part-id: btn2
      control: pressed
      value: 1
  - delay: 40ms

  - set-control:
      part-id: btn2
      control: pressed
      value: 0

  - wait-pin:
      part-id: led2
      pin: A
      value: 1

  - expect-pin:
      part-id: led1
      pin: A
      value: 0

  - wait-pin:
      part-id: led2
      pin: A
      value: 0

  - expect-pin:
      part-id: led1
      pin: A
      value: 0

  - wait-pin:
      part-id: led2
      pin: A
      value: 1

  - wait-pin:
      part-id: led2
      pin: A
      value: 0

  - expect-pin:
      part-id: led1
      pin: A
      value: 0
